--//Made with GUI2LUA//--
--i V l a d o s @ 2022--


--// Instances //--

local EasyExpressUI = Instance.new("ScreenGui")
local Holder = Instance.new("Frame")
local UICorner = Instance.new("UICorner")
local UIGradient = Instance.new("UIGradient")
local Minimize = Instance.new("TextButton")
local UICorner_2 = Instance.new("UICorner")
local MainStuffLabel = Instance.new("TextLabel")
local ButtonsHolder = Instance.new("Frame")
local UIListLayout = Instance.new("UIListLayout")
local ESPButton = Instance.new("TextButton")
local UICorner_3 = Instance.new("UICorner")
local UIGradient_2 = Instance.new("UIGradient")
local Title = Instance.new("TextLabel")

local Maximize = Instance.new("TextButton")
local UICorner = Instance.new("UICorner")

--// Properties //--

EasyExpressUI.Name = "EasyExpressUI"
EasyExpressUI.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

Holder.Name = "Holder"
Holder.Parent = EasyExpressUI
Holder.AnchorPoint = Vector2.new(0.25, 0)
Holder.BackgroundColor3 = Color3.fromRGB(111, 111, 111)
Holder.BorderSizePixel = 0
Holder.Position = UDim2.new(0.0500000007, 0, 0.100000001, 0)
Holder.Size = UDim2.new(0.150000006, 0, 0, 0)
Holder.Draggable = true
Holder.Selectable = true
Holder.Active = true

UICorner.CornerRadius = UDim.new(0.0500000007, 0)
UICorner.Parent = Holder

UIGradient.Color = ColorSequence.new{ColorSequenceKeypoint.new(0.00, Color3.fromRGB(0, 0, 0)), ColorSequenceKeypoint.new(1.00, Color3.fromRGB(157, 0, 255))}
UIGradient.Rotation = 90
UIGradient.Parent = Holder

Minimize.Name = "Minimize"
Minimize.Parent = Holder
Minimize.BackgroundColor3 = Color3.fromRGB(77, 0, 141)
Minimize.BorderColor3 = Color3.fromRGB(0, 0, 0)
Minimize.BorderSizePixel = 0
Minimize.Position = UDim2.new(0.80996877, 0, 0, 0)
Minimize.Size = UDim2.new(0.190031141, 0, 0.0865994394, 0)
Minimize.ZIndex = 2
Minimize.Font = Enum.Font.FredokaOne
Minimize.Text = "X"
Minimize.TextColor3 = Color3.fromRGB(255, 255, 255)
Minimize.TextScaled = true
Minimize.TextSize = 14.000
Minimize.TextWrapped = true

UICorner_2.CornerRadius = UDim.new(0.100000001, 0)
UICorner_2.Parent = Minimize

MainStuffLabel.Parent = Holder
MainStuffLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
MainStuffLabel.BackgroundTransparency = 1.000
MainStuffLabel.BorderSizePixel = 0
MainStuffLabel.Size = UDim2.new(1, 0, 0.0869999975, 0)
MainStuffLabel.Font = Enum.Font.Oswald
MainStuffLabel.Text = "<i><u>Main Stuff</u></i>"
MainStuffLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
MainStuffLabel.TextScaled = true
MainStuffLabel.TextSize = 14.000
MainStuffLabel.TextWrapped = true
MainStuffLabel.RichText = true

ButtonsHolder.Name = "ButtonsHolder"
ButtonsHolder.Parent = Holder
ButtonsHolder.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ButtonsHolder.BackgroundTransparency = 1.000
ButtonsHolder.BorderSizePixel = 0
ButtonsHolder.Position = UDim2.new(0, 0, 0.100000001, 0)
ButtonsHolder.Size = UDim2.new(1, 0, 0.899999976, 0)

UIListLayout.Parent = ButtonsHolder
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder

ESPButton.Parent = ButtonsHolder
ESPButton.BackgroundColor3 = Color3.fromRGB(157, 0, 255)
ESPButton.BorderSizePixel = 0
ESPButton.Size = UDim2.new(1, 0, 0.100000001, 0)
ESPButton.Font = Enum.Font.Oswald
ESPButton.Text = "<i>ESP (WIP)</i>"
ESPButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ESPButton.TextScaled = true
ESPButton.TextSize = 14.000
ESPButton.TextStrokeTransparency = 0.000
ESPButton.TextWrapped = true
ESPButton.RichText = true

UICorner_3.CornerRadius = UDim.new(0.200000003, 0)
UICorner_3.Parent = ESPButton

UIGradient_2.Color = ColorSequence.new{ColorSequenceKeypoint.new(0.00, Color3.fromRGB(255, 255, 255)), ColorSequenceKeypoint.new(1.00, Color3.fromRGB(149, 0, 255))}
UIGradient_2.Rotation = 90
UIGradient_2.Parent = ESPButton

Title.Name = "Title"
Title.Parent = EasyExpressUI
Title.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Title.BackgroundTransparency = 1.000
Title.BorderSizePixel = 0
Title.Size = UDim2.new(1, 0, 0.0500000007, 0)
Title.Font = Enum.Font.Oswald
Title.Text = "Made by iVlados for testing purposes."
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextScaled = true
Title.TextSize = 14.000
Title.TextStrokeTransparency = 0.000
Title.TextWrapped = true

Maximize.Name = "Maximize"
Maximize.Parent = EasyExpressUI
Maximize.BackgroundColor3 = Color3.fromRGB(77, 0, 141)
Maximize.BorderColor3 = Color3.fromRGB(0, 0, 0)
Maximize.BorderSizePixel = 0
Maximize.Position = UDim2.new(0.133956313, 0, 0.099423632, 0)
Maximize.Size = UDim2.new(0.0285436772, 0, 0.065525949, 0)
Maximize.ZIndex = 2
Maximize.Font = Enum.Font.FredokaOne
Maximize.Text = "M"
Maximize.TextColor3 = Color3.fromRGB(255, 255, 255)
Maximize.TextScaled = true
Maximize.TextSize = 14.000
Maximize.TextWrapped = true

Maximize.Visible = false

UICorner.CornerRadius = UDim.new(0.100000001, 0)
UICorner.Parent = Maximize

--// Actual Script //--

local tweenService = game:GetService("TweenService")

tweenService:Create(Holder, TweenInfo.new(0.651, Enum.EasingStyle.Cubic), {Size = UDim2.new(0.15, 0, 0.75, 0)}):Play()

local runESP = Instance.new("BoolValue", ESPButton)
runESP.Value = false

local template = Instance.new("BillboardGui")
template.AlwaysOnTop = true
template.Active = true
template.MaxDistance = 124000000000
template.Size = UDim2.new(0, 200, 0, 100)
template.ResetOnSpawn = false

local newText = Instance.new("TextLabel", template)
newText.Font = Enum.Font.RobotoMono
newText.TextColor3 = Color3.fromRGB(255, 255, 255)
newText.Size = UDim2.new(1, 0, 1, 0)
newText.BackgroundTransparency = 1
newText.TextScaled = true
newText.TextStrokeTransparency = 0

runESP:GetPropertyChangedSignal("Value"):Connect(function()

	if runESP.Value == true then

		game:GetService("RunService").RenderStepped:Connect(function()

			for _,playerModel in pairs(workspace:GetDescendants()) do

				if playerModel:IsA("Model") and game.Players:FindFirstChild(playerModel.Name) and not playerModel:FindFirstChild("Torso"):FindFirstChildOfClass("BillboardGui") and runESP.Value == true then

					if playerModel:FindFirstChild("Humanoid") then

						if playerModel:FindFirstChild("Humanoid").RigType == Enum.HumanoidRigType.R6 then

							local tempClone = template:Clone()
							tempClone.Name = "joemamaTemplate"
							tempClone.Parent = playerModel:FindFirstChild("Torso")
							tempClone.TextLabel.Text = playerModel.Name
							tempClone.Adornee = playerModel:FindFirstChild("Torso")

							for _, part in pairs(playerModel:GetChildren()) do

								if part:IsA("BasePart") and not part:FindFirstChild("SelectionBox") then

									local selectionBox = Instance.new("SelectionBox", part)
									selectionBox.Adornee = part 
									selectionBox.Color3 = Color3.fromRGB(101, 24, 168)

								end

							end


							game.Players[playerModel.Name].CharacterAdded:Connect(function(char)

								if not playerModel:FindFirstChild("BillboardGui") and not playerModel.Torso:FindFirstChild("SelectionBox") then

									for _, part in pairs(playerModel:GetChildren()) do

										if part:IsA("BasePart") then

											local selectionBox = Instance.new("SelectionBox", part)
											selectionBox.Adornee = part 
											selectionBox.Color3 = Color3.fromRGB(101, 24, 168)

										end

									end

									local tempClone = template:Clone()
									tempClone.Parent = playerModel:FindFirstChild("Torso")
									tempClone.TextLabel.Text = playerModel.Name
									tempClone.Adornee = playerModel:FindFirstChild("Torso")

								end

							end)

						end

					end

				end

			end

		end)
		
	else
		
		for _,playerModel in pairs(workspace:GetDescendants()) do

			if playerModel:IsA("Model") and game.Players:FindFirstChild(playerModel.Name) then

				if playerModel:FindFirstChild("Humanoid") then

					if playerModel:FindFirstChild("Humanoid").RigType == Enum.HumanoidRigType.R6 then

						local tempClone = playerModel:FindFirstChild("Torso"):FindFirstChildOfClass("BillboardGui")
						
						if tempClone.Name == "joemamaTemplate" then
							
							print(tempClone.Name.." found")
							
							tempClone:Destroy()
							
						end
						
						for _, part in pairs(playerModel:GetDescendants()) do

							if part:IsA("SelectionBox") then
								
								print(part)
								
								part:Destroy()
								
							end

						end

					end

				end

			end

		end
		
	end

end)

Minimize.MouseButton1Up:Connect(function()
	
	tweenService:Create(Holder, TweenInfo.new(0.651, Enum.EasingStyle.Cubic), {Size = UDim2.new(0.15, 0, 0, 0)}):Play()
	
	Maximize.Visible = true
	
end)

Maximize.MouseButton1Up:Connect(function()
	
	tweenService:Create(Holder, TweenInfo.new(0.651, Enum.EasingStyle.Cubic), {Size = UDim2.new(0.15, 0, 0.75, 0)}):Play()
	
	Maximize.Visible = false
	
end)

ESPButton.MouseButton1Up:Connect(function()
	
	if ESPButton.BackgroundColor3 == Color3.fromRGB(157, 0, 255) then
		
		runESP.Value = true
		ESPButton.BackgroundColor3 = Color3.fromRGB(216, 58, 255)
		
	elseif ESPButton.BackgroundColor3 == Color3.fromRGB(216, 58, 255) then
		
		runESP.Value = false
		ESPButton.BackgroundColor3 = Color3.fromRGB(157, 0, 255)
		
	end
	
	
end)
